termid=$1
logfile=`echo $WERMDIR/var/*/*/*/$termid | sed 's/.* //'`
shift

# Dump log. Makes a script generated by `script` readable and grep'able
dl () {
	cat $logfile
}

# rflt: Reverse filter. Shows the logfile with lines in reverse order, passing
# arguments directly to sed. Can use to progressively filter grep results. This
# would print the log starting from the grep invocation, and omitting all lines
# that mention tests:
# rflt '/$ grep/q; /[tT]est/d'
rflt () {
	tac $logfile | sed "$@" | less
}

# Same as rflt but uses `more` instead of `less`.
rfmt () {
	tac $logfile | sed "$@" | more
}

dltf () {
	tail -f $logfile
}

# grep log
gl () {
	grep "$@" $logfile
}

# browse (less) log
lel () {
	less "$@" $logfile
}

# browse binary (xxd | less) log
xll () {
	xxd $logfile | less
}
